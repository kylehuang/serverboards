id: serverboards.core.widgets
name: Core Widgets
author: David Moreno <dmoreno@serverboards.io>
version: 17.04
description: >
  Various core widgets.

components:
  - name: Core widgets daemon
    id: daemon
    type: cmd
    command: ./serverboards-widgets.py
  - name: Clock
    description: Simple clock with local time
    id: clock
    type: widget
    hints: nocss
  - name: Markdown text
    description: A simple markdown text to write notes
    id: markdown
    type: widget
    hints:
      maxW: 2
      minH: 2
      nocss: true
    params:
      - label: Text in markdown
        name: text
        type: textarea
        placeholder: "# Title"
  - name: Mini 2
    type: widget
    description: Small widget with name, and a value.
    id: mini2
    hints:
      minW: 1
      maxW: 4
      maxH: 1
      nocss: true
    params:
      - label: Title
        class: half column
        name: title
      - label: Color
        class: half column
        name: color
      - label: Text
        name: text
        type: query
      - label: URL
        description: Go to URL on click
        name: url
        type: text


  - name: Mini 5
    type: widget
    description: Small widget with name, two columns of data with number, name and icon.
    id: mini5
    hints:
      minW: 2
      maxW: 4
      maxH: 1
      nocss: true
    params:
      - label: Title
        class: half column
        name: title
      - label: Color
        class: half column
        name: color

      - label: Left Icon
        class: half column
        name: icon_left
      - label: Left Text
        class: half column
        name: text_left
      - label: Left Expression
        type: query
        name: expr_left

      - label: Right Icon
        class: half column
        name: icon_right
      - label: Right Text
        class: half column
        name: text_right
      - label: Right Expression
        type: query
        name: expr_right

  - name: Mini 3 Bars
    type: widget
    description: Big data and three bars
    id: mini3bars
    hints:
      w: 3
      h: 1
      nocss: true
    params:
      - label: Title
        type: text
        name: title
      - label: Big label query
        type: query
        name: big_label
      - label: Bars query
        description: |
          Only first three elements will be shown, or if more, the third becomes
          an aggregation of the rest.

          First column is the label, the second is the value.
        type: query
        name: bars

  - name: Table
    type: widget
    description: Table with headers and rows
    icon: table
    id: table
    hints:
      w: 2
      h: 5
      nocss: true
    params:
      - label: Expression
        type: query
        name: data

  - name: Bars
    type: widget
    description: Bar diagram with legend, resumed value and performance indicator.
    id: bars
    icon: bar chart
    hints:
      minW: 4
      minH: 2
      nocss: true
      nohtml: true
    params:
      - label: Title
        name: title
        description: Title
      - label: Show performance and legend
        type: checkbox
        default: true
        name: show_legend
      - label: Summary Query
        name: summary
        description: Summary number on the corner.
        type: query
      - label: Performance Query
        name: performance
        description: |
          Performance number on the corner. If starts with `+` will
          be shown green, if starts with `-` will be shown red.
        type: query
      - label: Bar Data Query
        name: data
        description: |
          Expression to show data. Needs to return:
          `Category name`, `Xvalue`, `YValue`.

          `XValue` is sorted and not require to be numeric. `YValue` needs to be
          numeric.

          It does aggregation on `Category name` and `XValue` summing the
          values, so repeated values are allowed.

          Its possible to force the `Category` and `Xvalue` existence setting
          YValue to `null`.
        type: query
  - name: Lines
    type: widget
    description: Lines diagram with legend, resumed value and performance indicator.
    id: lines
    icon: line chart
    hints:
      minW: 4
      minH: 2
    params:
      - label: Title
        name: title
        description: Title
      - label: Summary Query
        name: summary
        description: Summary number on the corner.
        type: query
      - label: Performance Query
        name: performance
        description: |
          Performance number on the corner. If starts with `+` will
          be shown green, if starts with `-` will be shown red.
        type: query
      - label: Line Data Query
        name: data
        description: |
          Expression to show data. Needs to return:
          `Category name`, `Xvalue`, `YValue`.

          `XValue` is sorted and not require to be numeric. `YValue` needs to be
          numeric.

          It does aggregation on `Category name` and `XValue` summing the
          values, so repeated values are allowed.

          Its possible to force the `Category` and `Xvalue` existence setting
          YValue to `null`.
        type: query

  - name: Pie 3
    type: widget
    description: Pie bar with summary data and three bars
    id: pie3
    hints:
      minW: 2
      minH: 2
      nocss: true
    params:
      - label: Title
        name: title
      - label: Summary Query
        name: summary
        description: |
          Summary number on the top, and center of pie.
        type: query
      - label: Pie data Query
        name: data
        description: |
          Expression to show data. Needs to return:
          `Category name`, `value`, `change`.
        type: query

  - name: Leaderboard with bars
    type: widget
    description: Leaderboard with bars.
    id: leaderbars
    hints:
      minW: 2
      minH: 1
    params:
      - label: Title
        name: title
      - label: Data Query
        name: data
        description: |
          Expression to show data. Needs to return:
          `Name`, `value`.

          `value` will be shown as percentage on the right
        type: query
